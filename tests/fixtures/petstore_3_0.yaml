openapi: "3.0.0"
info:
    title: Pet Store
    version: "1.0.0"
    description: A sample pet store API

paths:
    /pets:
        get:
            operationId: listPets
            summary: List all pets
            description: Returns a list of all pets in the store.
            tags:
                - Pets
            parameters:
                - name: limit
                  in: query
                  required: false
                  description: Maximum number of items to return
                  schema:
                      type: integer
                - name: X-API-Key
                  in: header
                  required: true
                  description: API key for auth
                  schema:
                      type: string
            responses:
                "200":
                    description: A list of pets
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: "#/components/schemas/Pet"
                "400":
                    description: Bad request
        post:
            operationId: createPet
            summary: Create a pet
            tags:
                - Pets
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: "#/components/schemas/NewPet"
            responses:
                "201":
                    description: Pet created
                    content:
                        application/json:
                            schema:
                                $ref: "#/components/schemas/Pet"
    /pets/{petId}:
        parameters:
            - name: petId
              in: path
              required: true
              description: The id of the pet
              schema:
                  type: string
        get:
            operationId: getPet
            summary: Get a pet by ID
            tags:
                - Pets
            responses:
                "200":
                    description: A pet
                    content:
                        application/json:
                            schema:
                                $ref: "#/components/schemas/Pet"
                "404":
                    description: Not found
        delete:
            operationId: deletePet
            summary: Delete a pet
            tags:
                - Pets
            deprecated: true
            responses:
                "204":
                    description: Pet deleted
    /orders:
        get:
            operationId: listOrders
            summary: List orders
            tags:
                - Orders
            parameters:
                - name: status
                  in: query
                  required: false
                  schema:
                      type: string
                      enum: [pending, completed, cancelled]
            responses:
                "200":
                    description: A list of orders

components:
    schemas:
        Pet:
            type: object
            required:
                - id
                - name
            description: A pet in the store
            properties:
                id:
                    type: integer
                    description: Unique identifier
                name:
                    type: string
                    description: The pet's name
                tag:
                    type: string
                    nullable: true
                    description: Optional tag

        NewPet:
            type: object
            required:
                - name
            properties:
                name:
                    type: string
                tag:
                    type: string
                    nullable: true

        Order:
            type: object
            description: An order for a pet
            properties:
                id:
                    type: integer
                petId:
                    type: integer
                status:
                    type: string
                    enum: [pending, completed, cancelled]
